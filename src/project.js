window.__require=function e(t,o,c){function i(a,n){if(!o[a]){if(!t[a]){var r=a.split("/");if(r=r[r.length-1],!t[r]){var l="function"==typeof __require&&__require;if(!n&&l)return l(r,!0);if(s)return s(r,!0);throw new Error("Cannot find module '"+a+"'")}a=r}var h=o[a]={exports:{}};t[a][0].call(h.exports,function(e){return i(t[a][1][e]||e)},h,h.exports,e,t,o,c)}return o[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<c.length;a++)i(c[a]);return i}({Block:[function(e,t,o){"use strict";cc._RF.push(t,"eb13aNsyxVNg5pgEpnmwfF/","Block"),cc.Class({extends:cc.Component,properties:function(){return{id:0,type:null,x:null,y:null,level:0,active:!0,seleced:!1}},onLoad:function(){},start:function(){},crush:function(e,t,o,c,i,s,a){this.lock();var n=this.getComponent(cc.Animation);this.scheduleOnce(function(){void 0!==t&&void 0!==o&&void 0!==c&&void 0!==i&&void 0!==s&&(this.moveTo(t,o),a==s-1&&(this._game=cc.find("Canvas/Main Camera").getComponent("Game"),(s-=5)>5&&(s=5),this._game.createBlock(t,o,c,i,s))),n.play()},.5*e)},animFunction:function(){this.destroy()},init:function(e,t,o,c,i){this.id=e,this.type=t,this.level=o,this.setPos(c,i)},setPos:function(e,t){this.x=e,this.y=t,this.setBlockPos()},setTexture:function(){var e=this;cc.loader.loadRes("block/Block_"+this.id+"_"+this.level,cc.SpriteFrame,function(t,o){null!=t&&console.log(t),e.getComponent(cc.Sprite).spriteFrame=o})},lock:function(){this.active=!1,this.node.opacity=50},unLock:function(){this.active=!0,this.node.opacity=255},select:function(){this.seleced=!0,this.node.opacity=200},unSelect:function(){this.seleced=!1,this.node.opacity=255},setActive:function(e){this.active=e},setBlockPos:function(){this.node.setPosition(cc.v2(64*this.x+32,64*this.y+32))},moveTo:function(e,t){this.x=64*e+32,this.y=64*t+32,cc.tween(this.node).to(.3,{position:cc.v2(this.x,this.y),angle:0}).start()},setLevel:function(e){this.level=e},setType:function(e){this.type=e}}),cc._RF.pop()},{}],Game:[function(e,t,o){"use strict";cc._RF.push(t,"38ae8uBPdVH0KwRMApDiXu7","Game");var c=e("Global");cc.Class({extends:cc.Component,properties:function(){return{MapNode:cc.Node,MapScrollView:cc.ScrollView,MapDotSprite:cc.SpriteFrame,MapMonsterSprite:cc.SpriteFrame,MapCircleSprite:cc.SpriteFrame,MapSlimeSprite:cc.SpriteFrame,BackButtonNode:cc.Node,BlockPrefeb:cc.Prefab,BlockGroup:cc.Node,MatchingController:cc.Node,PlayerVIT:cc.Label}},onLoad:function(){this.lastPos=cc.Vec2(-10,-10),this.isInPlayAni=!1,this.Blocks=null,this.isTouchMove=!1,this.isCanMove=!0,this.matchList=[],this.matchCount=0,this.blockCrushQueue=[]},start:function(){c.initPlayerData(),this.creatMap(),this.MapScrollView.scrollToBottom(3),this.Blocks=[];for(var e=0;e<7;e++){this.Blocks[e]=[];for(var t=0;t<6;t++)this.Blocks[e][t]=null,this.createBlock(e,t)}},updateUIdata:function(){this.PlayerVIT.string="\u4f53\u529b: "+c.PlayerVIT+" / "+c.PlayerMAXVIT},showMachtingUI:function(e){this.MatchingController.active=e,this.PlayerVIT.node.active=e},scanPoint:function(e,t,o){this.matchList.splice(0);for(var c=[],i=1;i<=2;i++){if(this.checkPoint(e,t,i),this.matchList.length>=3)for(var s=0;s<this.matchList.length;s++)0==o&&this.Blocks[this.matchList[s].x][this.matchList[s].y].lock(),this.PosCheck(c,this.matchList[s].x,this.matchList[s].y)&&c.push(this.matchList[s]);this.matchList.splice(0)}return c},checkPoint:function(e,t,o){var c,i=this.Blocks[e][t];this.matchList.push(cc.v2(e,t)),null!=(c=t-1>=0?cc.v2(e,t-1):null)&&1==o&&this.checkNextPoint(c,o,i),null!=(c=t+1<=5?cc.v2(e,t+1):null)&&1==o&&this.checkNextPoint(c,o,i),null!=(c=e-1>=0?cc.v2(e-1,t):null)&&2==o&&this.checkNextPoint(c,o,i),null!=(c=e+1<=6?cc.v2(e+1,t):null)&&2==o&&this.checkNextPoint(c,o,i)},checkNextPoint:function(e,t,o){this.PosCheck(this.matchList,e.x,e.y)&&void 0!=this.Blocks[e.x]&&void 0!=this.Blocks[e.x][e.y]&&this.Blocks[e.x][e.y].type==o.type&&this.checkPoint(e.x,e.y,t)},PosCheck:function(e,t,o){for(var c=0;c<e.length;c++)if(e[c].x==t&&e[c].y==o)return!1;return!0},createBlock:function(e,t,o,c,i){var s=cc.instantiate(this.BlockPrefeb),a=s.getComponent("Block");if(void 0===o)do{var n=this.getCardFromHand();a.init(n.id,n.type,n.level,e,t),this.Blocks[e][t]=a;var r=this.scanPoint(e,t,!0)}while(r.length>=3);else a.init(o,c,i,e,t),this.Blocks[e][t]=a;a.setTexture(),this.BlockGroup.addChild(s);var l=this;s.on(cc.Node.EventType.TOUCH_START,function(e){if(l.isInPlayAni||0==l.isCanMove)return!0;l.isTouchMove=!1;var t=e.getLocation(),o=l.convertTouchPosToBlock(t);l.selectBlock(o)}),s.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(l.isInPlayAni||0==l.isCanMove)return!0;l.isTouchMove=!0;var t,o,c=e.getStartLocation(),i=l.convertTouchPosToBlock(c),s=e.getLocation(),a=l.convertTouchPosToBlock(s);i.x==a.x&&i.y==a.y||((Math.abs(c.x-s.x)>40||Math.abs(c.y-s.y)>40)&&(t=c.x-s.x<-30?1:c.x-s.x>30?-1:0,o=c.y-s.y<-30?1:c.y-s.y>30?-1:0),void 0!==t&&void 0!==o&&(i.x==i.x+t&&i.y==i.y+o||l.selectBlock({x:i.x+t,y:i.y+o})))}),s.on(cc.Node.EventType.TOUCH_END,function(e){l.isInPlayAni||0==l.isCanMove||l.isTouchMove})},selectBlock:function(e){var t=this.lastPos;if(!(e.x<0||e.x>7||e.y<0||e.y>6)){var o=this.Blocks[e.x][e.y];if(o.active)if(e.x!=t.x||e.y!=t.y)if(Math.abs(e.x-t.x)>1||Math.abs(e.y-t.y)>1){o.select(),-10!=t.x&&-10!=t.y&&this.Blocks[t.x][t.y].unSelect(),this.lastPos=e}else{var i=this.Blocks[t.x][t.y];o.unSelect(),i.unSelect(),this.exchangeBlock(t,e),cc.tween(o.node).to(.3,{position:cc.v2(i.node.x,i.node.y),angle:0}).start(),cc.tween(i.node).to(.3,{position:cc.v2(o.node.x,o.node.y),angle:0}).start(),this.disableTouch(.3);var s=this.scanPoint(e.x,e.y,!1),a=this.scanPoint(t.x,t.y,!1);s.length>=3&&this.blockCrushQueue.push(s),a.length>=3&&this.blockCrushQueue.push(a),this.lastPos=cc.v2(-10,-10),c.PlayerVIT=c.PlayerVIT-1,this.updateUIdata(),c.PlayerVIT<=0&&(this.isInPlayAni=!0,this.isCanMove=!1,this.finishCheck())}else o.seleced?(o.unSelect(),this.lastPos=cc.v2(-10,-10)):o.select()}},finishCheck:function(){this.scheduleOnce(function(){var e=this.crushBlock();this.scheduleOnce(function(){this.MakeUpBlock(),this.scheduleOnce(function(){this.ReSetPlayerRound()},1)},e+.1)},.3)},MakeUpBlock:function(){for(var e=0;e<this.Blocks.length;e++){for(var t=0,o=0,c=0;c<this.Blocks[e].length;c++)if(0==cc.isValid(this.Blocks[e][c],!0)||null==this.Blocks[e][c])t++,o>c&&(o=c);else{this.Blocks[e][c].moveTo(e,o);var i=this.Blocks[e][c];this.Blocks[e][o]=i,o++}for(var s=0;s<t;s++)this.createBlock(e,6-t+s),this.Blocks[e][6-t+s].setPos(e,6+s),this.Blocks[e][6-t+s].moveTo(e,6-t+s)}this.blockCrushQueue=[];for(var a=0;a<7;a++)for(var n=0;n<6;n++){var r=this.scanPoint(a,n);r.length>=3&&this.blockCrushQueue.push(r)}this.blockCrushQueue.length>0&&this.finishCheck()},ReSetPlayerRound:function(){c.PlayerVIT=c.PlayerMAXVIT,this.updateUIdata(),this.isInPlayAni=!1,this.isCanMove=!0},crushBlock:function(){for(var e,t=0,o=0;t<this.blockCrushQueue.length-1;){var c=!1;if(t!=o)for(var i=0;i<this.blockCrushQueue[t].length;i++){for(var s=0;s<this.blockCrushQueue[o].length;s++){if(this.blockCrushQueue[t][i].x==this.blockCrushQueue[o][s].x&&this.blockCrushQueue[t][i].y==this.blockCrushQueue[o][s].y){c=!0,this.blockCrushQueue[t]=this.blockCrushQueue[t].concat(this.blockCrushQueue[o]),o=0;break}if(this.Blocks[this.blockCrushQueue[t][i].x][this.blockCrushQueue[t][i].y].type==this.Blocks[this.blockCrushQueue[o][s].x][this.blockCrushQueue[o][s].y].type&&Math.abs(this.blockCrushQueue[t][i].x-this.blockCrushQueue[o][s].x)+Math.abs(this.blockCrushQueue[t][i].y-this.blockCrushQueue[o][s].y)==1){c=!0,this.blockCrushQueue[t]=this.blockCrushQueue[t].concat(this.blockCrushQueue[o]),this.blockCrushQueue.splice(o,1),o=0;break}}if(c)break}c||o++,o>this.blockCrushQueue.length-1&&(t++,o=0),c=!1}for(var a=0;a<this.blockCrushQueue.length;a++){for(var n=[],r=0;r<this.blockCrushQueue[a].length;r++){c=!1;for(var l=0;l<n.length;l++){if(n[l].x==this.blockCrushQueue[a][r].x&&n[l].y==this.blockCrushQueue[a][r].y){c=!0;break}if(c)break}c||n.push(this.blockCrushQueue[a][r])}this.blockCrushQueue[a]=n}var h=.5*this.blockCrushQueue.length;for(e=0;e<this.blockCrushQueue.length;e++)for(var u=this.blockCrushQueue[e][this.blockCrushQueue[e].length-1].x,d=this.blockCrushQueue[e][this.blockCrushQueue[e].length-1].y,v=this.Blocks[u][d],p=0;p<this.blockCrushQueue[e].length;p++)this.blockCrushQueue[e].length>=6?this.Blocks[this.blockCrushQueue[e][p].x][this.blockCrushQueue[e][p].y].crush(e+.3,u,d,v.id,v.type,this.blockCrushQueue[e].length,p):this.Blocks[this.blockCrushQueue[e][p].x][this.blockCrushQueue[e][p].y].crush(e);return h},disableTouch:function(e,t){e<=0||(this.isInPlayAni=!0,this.node.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){this.isInPlayAni=!1},this))))},exchangeBlock:function(e,t){var o=this.Blocks[e.x][e.y];this.Blocks[e.x][e.y]=this.Blocks[t.x][t.y],this.Blocks[t.x][t.y]=o},convertTouchPosToBlock:function(e){if((e=this.MatchingController.convertToNodeSpaceAR(e)).x<0||e.x>480||e.y<0||e.y>416)return!1;var t=Math.floor(e.x/64),o=Math.floor(e.y/64);return cc.v2(t,o)},getCardFromHand:function(){var e=c.PlayerHands[c.PlayerHandIndex],t=(c.PlayerHandIndex+1)%c.PlayerHands.length;return c.PlayerHandIndex=t,0==t&&c.shuffleCard(),e},RoomEnterCheck:function(e,t){if(0==c.PlayerCanMove||e<=c.PlayerLevel)return!1;if(-1==c.PlayerLevel&&0==e)return!0;var o=c.PlayerRoom-t;if(-1==o)var i=1==c.MapData[c.PlayerLevel][c.PlayerRoom][2];else if(0==o)i=1==c.MapData[c.PlayerLevel][c.PlayerRoom][1];else{if(1!=o)return!1;i=1==c.MapData[c.PlayerLevel][c.PlayerRoom][0]}return!(c.PlayerLevel+1!=e||!i)},creatMap:function(){for(var e=-2900,t=this.MapScrollView,o=this,i=new Array(c.MapData.length),s=0;s<c.MapData.length;s++){var a=c.MapData[s];i[s]=new Array(a.length);for(var n=0;n<a.length;n++){if(i[s][n]=new Array(2),0!=(p=a[n])[0]||0!=p[1]||0!=p[2]||0!=p[3]){s==c.MapData.length-1?(i[s][n][0]=90*n-290,i[s][n][1]=e+160*s+160):(i[s][n][0]=90*n-290+30*Math.random(),i[s][n][1]=e+160*s+30*Math.random());var r=new cc.Node(10*s+n),l=r.addComponent(cc.Sprite);l.sizeMode=cc.Sprite.SizeMode.CUSTOM,1==p[3]?l.spriteFrame=this.MapMonsterSprite:2==p[3]&&(l.spriteFrame=this.MapSlimeSprite),r.x=i[s][n][0],r.y=i[s][n][1],s==c.MapData.length-1?(r.width=384,r.height=384):(r.width=20,r.height=20),t.content.addChild(r),r.on(cc.Node.EventType.TOUCH_END,function(e){if(1==c.PlayerCanMove){var s=parseInt(e.target.name/10),a=e.target.name%10;if(o.RoomEnterCheck(s,a)){if(console.log("Enter Room",{Level:s,Room:a}),c.PlayerLevel=s,c.PlayerRoom=a,c.PlayerCanMove=0,s<c.MapData.length-1){var n=new cc.Node("Seleced"),r=n.addComponent(cc.Sprite);r.sizeMode=cc.Sprite.SizeMode.CUSTOM,r.spriteFrame=o.MapCircleSprite,n.x=i[s][a][0],n.y=i[s][a][1],n.width=40,n.height=40,n.angle=360*Math.random(),t.content.addChild(n)}o.showMap(!1),c.shuffleCard(),o.showMachtingUI(!0),o.updateUIdata()}}})}}}for(var h=cc.v2(0,0),u=cc.v2(0,0),d=0;d<c.MapData.length-1;d++){a=c.MapData[d];for(var v=0;v<a.length;v++){var p;(1==(p=a[v])[0]&&0!=v||1==p[1]||1==p[2]&&6!=v)&&(1==p[0]&&(h=cc.v2(i[d][v][0],i[d][v][1]),u=cc.v2(i[d+1][v-1][0],i[d+1][v-1][1]),d==c.MapData.length-2&&(u=cc.v2(1,e+160*d+160)),this.drawDot(h,u)),1==p[1]&&(h=cc.v2(i[d][v][0],i[d][v][1]),u=cc.v2(i[d+1][v][0],i[d+1][v][1]),d==c.MapData.length-2&&(u=cc.v2(1,e+160*d+160)),this.drawDot(h,u)),1==p[2]&&(h=cc.v2(i[d][v][0],i[d][v][1]),u=cc.v2(i[d+1][v+1][0],i[d+1][v+1][1]),d==c.MapData.length-2&&(u=cc.v2(1,e+160*d+160)),this.drawDot(h,u)))}}this.MapNode.active=!0},drawDot:function(e,t){var o=this.MapScrollView;if(0!=t.x&&0!=t.y)for(var c=cc.v2(0,0),i=1;i<=6;i++){var s=new cc.Node;s.addComponent(cc.Sprite).spriteFrame=this.MapDotSprite,e.lerp(t,.14*i,c),s.x=c.x+8*Math.random(),s.y=c.y+8*Math.random();var a=180*e.signAngle(t)/Math.PI;s.angle=-a,o.content.addChild(s)}},onBtnClick:function(e,t){"map"==t?this.showMap(!this.MapNode.active):"back"==t&&this.showMap(!1)},showMap:function(e){this.MapNode.active=e,this.BackButtonNode.active=e}}),cc._RF.pop()},{Global:"Global"}],Global:[function(e,t,o){"use strict";cc._RF.push(t,"5b3fdjeHvRC5qAyfdc724hV","Global");cc.Class({name:"Hero",properties:{id:0,heroName:"",HeroActive:!1}}),cc.Class({name:"Card",properties:{id:0,cardName:"",cardClass:0,blockID:0}});t.exports={Heros:[{id:0,heroName:"\u83bd\u592b",heroActive:!0},{id:1,heroName:"\u6682\u672a\u63a8\u51fa",heroActive:!1},{id:2,heroName:"\u6682\u672a\u63a8\u51fa",heroActive:!1},{id:3,heroName:"\u6682\u672a\u63a8\u51fa",heroActive:!1}],Cards:[{id:0,cardName:"\u653b\u51fb",cardClass:1,type:0,level:0},{id:1,cardName:"\u9632\u5fa1",cardClass:1,type:1,level:0},{id:2,cardName:"\u6cbb\u7597",cardClass:1,type:2,level:0}],ChooseMode:0,ChooseHero:0,MapData:[[[0,0,1,1],[0,0,0,0],[1,1,0,1],[0,0,1,1],[0,0,0,0],[1,0,1,1],[0,0,0,0]],[[0,0,0,0],[0,1,0,1],[0,0,1,1],[0,0,0,0],[1,0,0,1],[0,0,0,0],[1,0,0,1]],[[0,0,0,0],[1,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0]],[[0,1,0,1],[0,0,1,1],[0,0,0,0],[1,0,1,1],[0,0,0,0],[1,0,1,1],[0,0,0,0]],[[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,1,0,1]],[[0,0,1,1],[0,0,0,0],[0,0,1,1],[0,0,0,0],[1,0,0,1],[0,0,0,0],[0,1,0,1]],[[0,0,0,0],[1,0,0,1],[0,0,0,0],[1,0,1,1],[0,0,0,0],[0,0,0,0],[0,1,0,1]],[[0,0,1,1],[0,0,0,0],[1,0,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[1,0,0,1]],[[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,0,0,0],[1,1,0,1],[0,0,1,1],[0,0,0,0]],[[0,0,0,0],[1,0,0,1],[0,0,0,0],[1,0,0,1],[0,1,1,1],[0,0,0,0],[1,0,0,1]],[[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,0,1,1],[0,0,1,1],[0,0,0,0]],[[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,0,0,0],[1,0,1,1],[0,1,0,1]],[[0,0,1,1],[0,0,0,0],[1,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[1,0,0,1]],[[0,0,0,0],[0,0,1,1],[0,0,1,1],[0,0,0,0],[0,1,0,1],[1,0,0,1],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,1,1],[0,1,0,1],[1,0,0,1],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0]]],PlayerCards:[],PlayerHP:0,PlayerVIT:0,PlayerMAXVIT:0,PlayerGold:0,PlayerItem:[],PlayerLevel:0,PlayerRoom:0,PlayerCanMove:0,PlayerHands:[],PlayerHandIndex:[],ItemList:[0,1,2,3,4,5],BossList:[0,1,2,3,4,5],MonsterList:[0,1,2,3,4,5],shuffleCard:function(){for(var e=[].concat(this.PlayerCards),t=e.length-1;t>=0;t--){var o=Math.floor(Math.random()*(t+1)),c=e[o];e[o]=e[t],e[t]=c}this.PlayerHands=e},initPlayerData:function(){this.PlayerFloor=0,this.PlayerCards=[{id:0,cardName:"\u653b\u51fb",cardClass:1,type:0,level:0},{id:0,cardName:"\u653b\u51fb",cardClass:1,type:0,level:0},{id:0,cardName:"\u653b\u51fb",cardClass:1,type:0,level:0},{id:0,cardName:"\u653b\u51fb",cardClass:1,type:0,level:0},{id:0,cardName:"\u653b\u51fb",cardClass:1,type:0,level:0},{id:1,cardName:"\u9632\u5fa1",cardClass:1,type:1,level:0},{id:1,cardName:"\u9632\u5fa1",cardClass:1,type:1,level:0},{id:1,cardName:"\u9632\u5fa1",cardClass:1,type:1,level:0},{id:1,cardName:"\u9632\u5fa1",cardClass:1,type:1,level:0},{id:1,cardName:"\u9632\u5fa1",cardClass:1,type:1,level:0},{id:2,cardName:"\u6cbb\u7597",cardClass:1,type:2,level:0},{id:2,cardName:"\u6cbb\u7597",cardClass:1,type:2,level:0},{id:2,cardName:"\u6cbb\u7597",cardClass:1,type:2,level:0}],this.shuffleCard(),this.PlayerHandIndex=0,this.PlayerHP=100,this.PlayerVIT=5,this.PlayerMAXVIT=5,this.PlayerGold=0,this.PlayerItem=[],this.PlayerLevel=-1,this.PlayerRoom=0,this.PlayerCanMove=1,this.MapData=[[[0,0,1,1],[0,0,0,0],[1,1,0,1],[0,0,0,0],[0,0,0,0],[1,0,1,1],[0,1,0,1]],[[0,0,0,0],[0,1,0,1],[0,0,1,1],[0,0,0,0],[1,0,0,1],[0,0,0,0],[1,0,0,1]],[[0,0,0,0],[1,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0]],[[0,1,0,1],[0,0,1,1],[0,0,0,0],[1,0,1,1],[0,0,0,0],[1,0,1,1],[0,0,0,0]],[[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,1,0,1]],[[0,0,1,1],[0,0,0,0],[0,0,1,1],[0,0,0,0],[1,0,0,1],[0,0,0,0],[0,1,0,1]],[[0,0,0,0],[1,0,0,1],[0,0,0,0],[1,0,1,1],[0,0,0,0],[0,0,0,0],[0,1,0,1]],[[0,0,1,1],[0,0,0,0],[1,0,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[1,0,0,1]],[[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,0,0,0],[1,1,0,1],[0,0,1,1],[0,0,0,0]],[[0,0,0,0],[1,0,0,1],[0,0,0,0],[1,0,0,1],[0,1,1,1],[0,0,0,0],[1,0,0,1]],[[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,0,1,1],[0,0,1,1],[0,0,0,0]],[[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,0,0,0],[1,0,1,1],[0,1,0,1]],[[0,0,1,1],[0,0,0,0],[1,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[1,0,0,1]],[[0,0,0,0],[0,0,1,1],[0,0,1,1],[0,0,0,0],[0,1,0,1],[1,0,0,1],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,1,1],[0,1,0,1],[1,0,0,1],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]}},cc._RF.pop()},{}],HeroButton:[function(e,t,o){"use strict";cc._RF.push(t,"b63d5h5ZMhPQZvmPHC2XDoD","HeroButton"),cc.Class({extends:cc.Component,properties:{id:0,label:cc.Label,button:cc.Button},start:function(){},init:function(e){this.id=e.id,this.label.string=e.name,this.button.interactable=e.active}}),cc._RF.pop()},{}],Main:[function(e,t,o){"use strict";cc._RF.push(t,"11048qkF9tBGbHMLRae4I0M","Main"),cc.Class({extends:cc.Component,properties:{MainLayout:cc.Node,SelectModePrefab:cc.Prefab},start:function(){cc.view.setResolutionPolicy(cc.ResolutionPolicy.FIXED_WIDTH),cc.view.setDesignResolutionSize(960,640,cc.ResolutionPolicy.FIXED_WIDTH)},onBtnClick:function(e,t){"play"==t?(this.hide(),null==this.mSelectMode&&(this.mSelectMode=cc.instantiate(this.SelectModePrefab),cc.find("Canvas").addChild(this.mSelectMode),this.mSelectMode=this.mSelectMode.getComponent("SelectMode")),this.mSelectMode.show()):"exit"==t&&cc.game.end()},show:function(){this.MainLayout.active=!0},hide:function(){this.MainLayout.active=!1}}),cc._RF.pop()},{}],SelectHero:[function(e,t,o){"use strict";cc._RF.push(t,"dbba9JY/vJO57ZDLM+e/IyX","SelectHero");var c=e("Global");cc.Class({extends:cc.Component,properties:{StartButton:cc.Node,BackGround:cc.Node,HeroInfo:cc.Node,SelectLayout:cc.Node,HeroButton:cc.Prefab},start:function(){this.initSelectHeroButton()},initSelectHeroButton:function(){for(var e=this,t=this,o=this.SelectLayout,i=function(i){e.mHeroButton=cc.instantiate(e.HeroButton),o.addChild(e.mHeroButton),e.mHeroButton.getComponent("HeroButton").init({id:c.Heros[i].id,name:c.Heros[i].heroName,active:c.Heros[i].heroActive}),e.mHeroButton.on(cc.Node.EventType.TOUCH_END,function(e){t.onBtnClick(e,c.Heros[i].id)})},s=0;s<c.Heros.length;s++)i(s)},show:function(){this.node.active=!0},hide:function(){this.node.active=!1},onBtnClick:function(e,t){"back"==t?(this.hide(),cc.find("Canvas/SelectModeNode").getComponent("SelectMode").show()):"start"==t?(0==c.ChooseMode&&c.initPlayerData(),cc.director.loadScene("Game")):"0"==t&&(this.HeroInfo.getChildByName("HeroName").getComponent(cc.Label).string=c.Heros[0].heroName,this.BackGround.color=new cc.Color(0,0,0,255),this.BackGround.opacity=255,c.ChooseHero=0,this.StartButton.active=!0)}}),cc._RF.pop()},{Global:"Global"}],SelectMode:[function(e,t,o){"use strict";cc._RF.push(t,"e0678rtMHdH+JrKRXW9opmP","SelectMode");var c=e("Global");cc.Class({extends:cc.Component,properties:{SelectHeroPrefab:cc.Prefab},start:function(){},show:function(){this.node.active=!0},hide:function(){this.node.active=!1},onBtnClick:function(e,t){"back"==t?(this.hide(),cc.find("Canvas/Main Camera").getComponent("Main").show()):"normal"==t&&(this.hide(),null==this.mSelectHero&&(this.mSelectHero=cc.instantiate(this.SelectHeroPrefab),cc.find("Canvas").addChild(this.mSelectHero),this.mSelectHero=this.mSelectHero.getComponent("SelectHero")),this.mSelectHero.show(),c.ChooseMode=0)}}),cc._RF.pop()},{Global:"Global"}]},{},["Global","Game","Main","Block","HeroButton","SelectHero","SelectMode"]);