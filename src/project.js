window.__require=function e(t,c,o){function i(a,n){if(!c[a]){if(!t[a]){var l=a.split("/");if(l=l[l.length-1],!t[l]){var r="function"==typeof __require&&__require;if(!n&&r)return r(l,!0);if(s)return s(l,!0);throw new Error("Cannot find module '"+a+"'")}a=l}var h=c[a]={exports:{}};t[a][0].call(h.exports,function(e){return i(t[a][1][e]||e)},h,h.exports,e,t,c,o)}return c[a].exports}for(var s="function"==typeof __require&&__require,a=0;a<o.length;a++)i(o[a]);return i}({Block:[function(e,t,c){"use strict";cc._RF.push(t,"eb13aNsyxVNg5pgEpnmwfF/","Block"),cc.Class({extends:cc.Component,properties:function(){return{id:0,type:null,x:null,y:null,level:0,active:!0,seleced:!1}},onLoad:function(){},start:function(){},levelUp:function(e){this.level=e,this.setTexture()},init:function(e,t,c,o,i){this.id=e,this.type=t,this.level=c,this.setPos(o,i)},setPos:function(e,t){this.x=e,this.y=t,this.setBlockPos()},setTexture:function(){var e=this;cc.loader.loadRes("block/Block_"+this.id+"_"+this.level,cc.SpriteFrame,function(t,c){(null!=t&&console.log(t),null!=e.node)&&(e.node.getComponent(cc.Sprite).spriteFrame=c)})},lock:function(){this.active=!1,this.node.opacity=50},unLock:function(){this.active=!0,this.node.opacity=255},select:function(){this.seleced=!0,this.node.opacity=200},unSelect:function(){this.seleced=!1,this.node.opacity=255},setActive:function(e){this.active=e},setBlockPos:function(){this.node.setPosition(cc.v2(64*this.x+32,64*this.y+32))},moveTo:function(e,t){this.x=64*e+32,this.y=64*t+32,cc.tween(this.node).to(.3,{position:cc.v2(this.x,this.y),angle:0}).start()},setLevel:function(e){this.level=e},setType:function(e){this.type=e}}),cc._RF.pop()},{}],Game:[function(e,t,c){"use strict";cc._RF.push(t,"38ae8uBPdVH0KwRMApDiXu7","Game");var o=e("Global");cc.Class({extends:cc.Component,properties:function(){return{MapNode:cc.Node,MapScrollView:cc.ScrollView,MapDotSprite:cc.SpriteFrame,MapMonsterSprite:cc.SpriteFrame,MapCircleSprite:cc.SpriteFrame,MapSlimeSprite:cc.SpriteFrame,BackButtonNode:cc.Node,BlockPrefeb:cc.Prefab,BlockGroup:cc.Node,MatchingController:cc.Node,PlayerVIT:cc.Label}},onLoad:function(){this.lastPos=cc.Vec2(-10,-10),this.isInPlayAni=!1,this.Blocks=null,this.isTouchMove=!1,this.isCanMove=!0,this.matchList=[],this.matchCount=0,this.blockCrushQueue=[]},start:function(){o.initPlayerData(),this.createMap(),this.MapScrollView.scrollToBottom(3),this.Blocks=[];for(var e=0;e<7;e++){this.Blocks[e]=[];for(var t=0;t<6;t++)this.Blocks[e][t]=null,this.createBlock(e,t)}},updateUIdata:function(){this.PlayerVIT.string="\u4f53\u529b: "+o.PlayerVIT+" / "+o.PlayerMAXVIT},showMachtingUI:function(e){this.MatchingController.active=e,this.PlayerVIT.node.active=e},scanPoint:function(e,t,c){this.matchList.splice(0);for(var o=[],i=1;i<=2;i++){if(this.checkPoint(e,t,i),this.matchList.length>=3)for(var s=0;s<this.matchList.length;s++)0==c&&this.Blocks[this.matchList[s].x][this.matchList[s].y].lock(),this.PosCheck(o,this.matchList[s].x,this.matchList[s].y)&&o.push(this.matchList[s]);this.matchList.splice(0)}return o},checkPoint:function(e,t,c){var o,i=this.Blocks[e][t];null!=i&&(this.matchList.push(cc.v2(e,t)),null!=(o=t-1>=0?cc.v2(e,t-1):null)&&1==c&&this.checkNextPoint(o,c,i),null!=(o=t+1<=5?cc.v2(e,t+1):null)&&1==c&&this.checkNextPoint(o,c,i),null!=(o=e-1>=0?cc.v2(e-1,t):null)&&2==c&&this.checkNextPoint(o,c,i),null!=(o=e+1<=6?cc.v2(e+1,t):null)&&2==c&&this.checkNextPoint(o,c,i))},checkNextPoint:function(e,t,c){this.PosCheck(this.matchList,e.x,e.y)&&void 0!=this.Blocks[e.x]&&void 0!=this.Blocks[e.x][e.y]&&this.Blocks[e.x][e.y].type==c.type&&this.checkPoint(e.x,e.y,t)},PosCheck:function(e,t,c){for(var o=0;o<e.length;o++)if(e[o].x==t&&e[o].y==c)return!1;return!0},createBlock:function(e,t,c,o,i){var s=cc.instantiate(this.BlockPrefeb),a=s.getComponent("Block");if(void 0===c)do{var n=this.getCardFromHand();a.init(n.id,n.type,n.level,e,t),this.Blocks[e][t]=a;var l=this.scanPoint(e,t,!0)}while(l.length>=3);else a.init(c,o,i,e,t),this.Blocks[e][t]=a;a.setTexture(),this.BlockGroup.addChild(s);var r=this;s.on(cc.Node.EventType.TOUCH_START,function(e){if(r.isInPlayAni||0==r.isCanMove)return!0;r.isTouchMove=!1;var t=e.getLocation(),c=r.convertTouchPosToBlock(t);r.selectBlock(c)}),s.on(cc.Node.EventType.TOUCH_MOVE,function(e){if(r.isInPlayAni||0==r.isCanMove)return!0;r.isTouchMove=!0;var t,c,o=e.getStartLocation(),i=r.convertTouchPosToBlock(o),s=e.getLocation(),a=r.convertTouchPosToBlock(s);i.x==a.x&&i.y==a.y||((Math.abs(o.x-s.x)>40||Math.abs(o.y-s.y)>40)&&(t=o.x-s.x<-30?1:o.x-s.x>30?-1:0,c=o.y-s.y<-30?1:o.y-s.y>30?-1:0),void 0!==t&&void 0!==c&&(i.x==i.x+t&&i.y==i.y+c||r.selectBlock({x:i.x+t,y:i.y+c})))}),s.on(cc.Node.EventType.TOUCH_END,function(e){r.isInPlayAni||0==r.isCanMove||r.isTouchMove})},selectBlock:function(e){var t=this.lastPos;if(!(e.x<0||e.x>7||e.y<0||e.y>6)){var c=this.Blocks[e.x][e.y];if(c.active)if(e.x!=t.x||e.y!=t.y)if(Math.abs(e.x-t.x)>1||Math.abs(e.y-t.y)>1){c.select(),-10!=t.x&&-10!=t.y&&this.Blocks[t.x][t.y].unSelect(),this.lastPos=e}else{var i=this.Blocks[t.x][t.y];c.unSelect(),i.unSelect(),this.exchangeBlock(t,e),cc.tween(c.node).to(.3,{position:cc.v2(i.node.x,i.node.y),angle:0}).start(),cc.tween(i.node).to(.3,{position:cc.v2(c.node.x,c.node.y),angle:0}).start(),this.disableTouch(.3);var s=this.scanPoint(e.x,e.y,!1),a=this.scanPoint(t.x,t.y,!1);s.length>=3&&this.blockCrushQueue.push(s),a.length>=3&&this.blockCrushQueue.push(a),this.lastPos=cc.v2(-10,-10),o.PlayerVIT=o.PlayerVIT-1,this.updateUIdata(),o.PlayerVIT<=0&&(this.isInPlayAni=!0,this.isCanMove=!1,this.finishCheck())}else c.seleced?(c.unSelect(),this.lastPos=cc.v2(-10,-10)):c.select()}},finishCheck:function(){this.crushBlock()},MakeUpBlock:function(){for(var e=0;e<this.Blocks.length;e++){for(var t=0,c=0,o=0;o<this.Blocks[e].length;o++)if(0==cc.isValid(this.Blocks[e][o],!0)||null==this.Blocks[e][o])t++,c>o&&(c=o);else{this.Blocks[e][o].moveTo(e,c);var i=this.Blocks[e][o];this.Blocks[e][c]=i,c++}for(var s=0;s<t;s++)this.createBlock(e,6-t+s),this.Blocks[e][6-t+s].setPos(e,6+s),this.Blocks[e][6-t+s].moveTo(e,6-t+s)}this.blockCrushQueue=[];for(var a=0;a<7;a++)for(var n=0;n<6;n++){var l=this.scanPoint(a,n);l.length>=3&&this.blockCrushQueue.push(l)}this.blockCrushQueue.length>0&&this.finishCheck()},ReSetPlayerRound:function(){o.PlayerVIT=o.PlayerMAXVIT,this.updateUIdata(),this.isInPlayAni=!1,this.isCanMove=!0},crushBlock:function(){for(var e,t,c=this,o=0,i=0;o<this.blockCrushQueue.length-1;){var s=!1;if(o!=i)for(var a=0;a<this.blockCrushQueue[o].length;a++){for(var n=0;n<this.blockCrushQueue[i].length;n++){if(this.blockCrushQueue[o][a].x==this.blockCrushQueue[i][n].x&&this.blockCrushQueue[o][a].y==this.blockCrushQueue[i][n].y){s=!0,this.blockCrushQueue[o]=this.blockCrushQueue[o].concat(this.blockCrushQueue[i]),i=0;break}if(this.Blocks[this.blockCrushQueue[o][a].x][this.blockCrushQueue[o][a].y].type==this.Blocks[this.blockCrushQueue[i][n].x][this.blockCrushQueue[i][n].y].type&&Math.abs(this.blockCrushQueue[o][a].x-this.blockCrushQueue[i][n].x)+Math.abs(this.blockCrushQueue[o][a].y-this.blockCrushQueue[i][n].y)==1){s=!0,this.blockCrushQueue[o]=this.blockCrushQueue[o].concat(this.blockCrushQueue[i]),this.blockCrushQueue.splice(i,1),i=0;break}}if(s)break}s||i++,i>this.blockCrushQueue.length-1&&(o++,i=0),s=!1}for(var l=0;l<this.blockCrushQueue.length;l++){for(var r=[],h=0;h<this.blockCrushQueue[l].length;h++){s=!1;for(var u=0;u<r.length;u++){if(r[u].x==this.blockCrushQueue[l][h].x&&r[u].y==this.blockCrushQueue[l][h].y){s=!0;break}if(s)break}s||r.push(this.blockCrushQueue[l][h])}this.blockCrushQueue[l]=r}this.blockCrushQueue.length;var d=[];for(t=0;t<this.blockCrushQueue.length;t++)for(var p=this.blockCrushQueue[t][this.blockCrushQueue[t].length-1].x,v=this.blockCrushQueue[t][this.blockCrushQueue[t].length-1].y,y=(this.Blocks[p][v],!0),f=0;f<this.blockCrushQueue[t].length;f++){var C=this.Blocks[this.blockCrushQueue[t][f].x][this.blockCrushQueue[t][f].y];if(d.push(cc.callFunc(C.lock())),this.blockCrushQueue[t].length>=6)if(d.push(cc.callFunc(C.moveTo(p,v))),y){y=!1;var k=this.blockCrushQueue[t].length-5;k>5&&(k=5),d.push(cc.callFunc(C.levelUp(k))),d.push(cc.callFunc(C.unLock()))}else d.push(cc.callFunc(C.node.destroy()));else d.push(cc.callFunc(C.moveTo(p,v))),d.push(cc.callFunc(C.node.destroy()))}d.push(cc.callFunc(function(){c.MakeUpBlock(),c.ReSetPlayerRound()})),this.node.runAction((e=cc).sequence.apply(e,d))},disableTouch:function(e){e<=0||(this.isInPlayAni=!0,this.node.runAction(cc.sequence(cc.delayTime(e),cc.callFunc(function(){this.isInPlayAni=!1},this))))},exchangeBlock:function(e,t){var c=this.Blocks[e.x][e.y];this.Blocks[e.x][e.y]=this.Blocks[t.x][t.y],this.Blocks[t.x][t.y]=c},convertTouchPosToBlock:function(e){if((e=this.MatchingController.convertToNodeSpaceAR(e)).x<0||e.x>480||e.y<0||e.y>416)return!1;var t=Math.floor(e.x/64),c=Math.floor(e.y/64);return cc.v2(t,c)},getCardFromHand:function(){var e=o.PlayerHands[o.PlayerHandIndex],t=(o.PlayerHandIndex+1)%o.PlayerHands.length;return o.PlayerHandIndex=t,0==t&&o.shuffleCard(),e},RoomEnterCheck:function(e,t){if(0==o.PlayerCanMove||e<=o.PlayerLevel)return!1;if(-1==o.PlayerLevel&&0==e)return!0;var c=o.PlayerRoom-t;if(-1==c)var i=1==o.MapData[o.PlayerLevel][o.PlayerRoom][2];else if(0==c)i=1==o.MapData[o.PlayerLevel][o.PlayerRoom][1];else{if(1!=c)return!1;i=1==o.MapData[o.PlayerLevel][o.PlayerRoom][0]}return!(o.PlayerLevel+1!=e||!i)},createMap:function(){for(var e=-2900,t=this.MapScrollView,c=this,i=new Array(o.MapData.length),s=0;s<o.MapData.length;s++){var a=o.MapData[s];i[s]=new Array(a.length);for(var n=0;n<a.length;n++){if(i[s][n]=new Array(2),0!=(v=a[n])[0]||0!=v[1]||0!=v[2]||0!=v[3]){s==o.MapData.length-1?(i[s][n][0]=90*n-290,i[s][n][1]=e+160*s+160):(i[s][n][0]=90*n-290+30*Math.random(),i[s][n][1]=e+160*s+30*Math.random());var l=new cc.Node(10*s+n),r=l.addComponent(cc.Sprite);r.sizeMode=cc.Sprite.SizeMode.CUSTOM,1==v[3]?r.spriteFrame=this.MapMonsterSprite:2==v[3]&&(r.spriteFrame=this.MapSlimeSprite),l.x=i[s][n][0],l.y=i[s][n][1],s==o.MapData.length-1?(l.width=384,l.height=384):(l.width=20,l.height=20),t.content.addChild(l),l.on(cc.Node.EventType.TOUCH_END,function(e){if(1==o.PlayerCanMove){var s=parseInt(e.target.name/10),a=e.target.name%10;if(c.RoomEnterCheck(s,a)){if(console.log("Enter Room",{Level:s,Room:a}),o.PlayerLevel=s,o.PlayerRoom=a,o.PlayerCanMove=0,s<o.MapData.length-1){var n=new cc.Node("Seleced"),l=n.addComponent(cc.Sprite);l.sizeMode=cc.Sprite.SizeMode.CUSTOM,l.spriteFrame=c.MapCircleSprite,n.x=i[s][a][0],n.y=i[s][a][1],n.width=40,n.height=40,n.angle=360*Math.random(),t.content.addChild(n)}c.showMap(!1),o.shuffleCard(),c.showMachtingUI(!0),c.updateUIdata()}}})}}}for(var h=cc.v2(0,0),u=cc.v2(0,0),d=0;d<o.MapData.length-1;d++){a=o.MapData[d];for(var p=0;p<a.length;p++){var v;(1==(v=a[p])[0]&&0!=p||1==v[1]||1==v[2]&&6!=p)&&(1==v[0]&&(h=cc.v2(i[d][p][0],i[d][p][1]),u=cc.v2(i[d+1][p-1][0],i[d+1][p-1][1]),d==o.MapData.length-2&&(u=cc.v2(1,e+160*d+160)),this.drawDot(h,u)),1==v[1]&&(h=cc.v2(i[d][p][0],i[d][p][1]),u=cc.v2(i[d+1][p][0],i[d+1][p][1]),d==o.MapData.length-2&&(u=cc.v2(1,e+160*d+160)),this.drawDot(h,u)),1==v[2]&&(h=cc.v2(i[d][p][0],i[d][p][1]),u=cc.v2(i[d+1][p+1][0],i[d+1][p+1][1]),d==o.MapData.length-2&&(u=cc.v2(1,e+160*d+160)),this.drawDot(h,u)))}}this.MapNode.active=!0},drawDot:function(e,t){var c=this.MapScrollView;if(0!=t.x&&0!=t.y)for(var o=cc.v2(0,0),i=1;i<=6;i++){var s=new cc.Node;s.addComponent(cc.Sprite).spriteFrame=this.MapDotSprite,e.lerp(t,.14*i,o),s.x=o.x+8*Math.random(),s.y=o.y+8*Math.random();var a=180*e.signAngle(t)/Math.PI;s.angle=-a,c.content.addChild(s)}},onBtnClick:function(e,t){"map"==t?this.showMap(!this.MapNode.active):"back"==t&&this.showMap(!1)},showMap:function(e){this.MapNode.active=e,this.BackButtonNode.active=e}}),cc._RF.pop()},{Global:"Global"}],Global:[function(e,t,c){"use strict";cc._RF.push(t,"5b3fdjeHvRC5qAyfdc724hV","Global");cc.Class({name:"Hero",properties:{id:0,heroName:"",HeroActive:!1}}),cc.Class({name:"Card",properties:{id:0,cardName:"",cardClass:0,blockID:0}});t.exports={Heros:[{id:0,heroName:"\u83bd\u592b",heroActive:!0},{id:1,heroName:"\u6682\u672a\u63a8\u51fa",heroActive:!1},{id:2,heroName:"\u6682\u672a\u63a8\u51fa",heroActive:!1},{id:3,heroName:"\u6682\u672a\u63a8\u51fa",heroActive:!1}],Cards:[{id:0,cardName:"\u653b\u51fb",cardClass:1,type:0,level:0},{id:1,cardName:"\u9632\u5fa1",cardClass:1,type:1,level:0},{id:2,cardName:"\u6cbb\u7597",cardClass:1,type:2,level:0}],ChooseMode:0,ChooseHero:0,MapData:[[[0,0,1,1],[0,0,0,0],[1,1,0,1],[0,0,1,1],[0,0,0,0],[1,0,1,1],[0,0,0,0]],[[0,0,0,0],[0,1,0,1],[0,0,1,1],[0,0,0,0],[1,0,0,1],[0,0,0,0],[1,0,0,1]],[[0,0,0,0],[1,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0]],[[0,1,0,1],[0,0,1,1],[0,0,0,0],[1,0,1,1],[0,0,0,0],[1,0,1,1],[0,0,0,0]],[[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,1,0,1]],[[0,0,1,1],[0,0,0,0],[0,0,1,1],[0,0,0,0],[1,0,0,1],[0,0,0,0],[0,1,0,1]],[[0,0,0,0],[1,0,0,1],[0,0,0,0],[1,0,1,1],[0,0,0,0],[0,0,0,0],[0,1,0,1]],[[0,0,1,1],[0,0,0,0],[1,0,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[1,0,0,1]],[[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,0,0,0],[1,1,0,1],[0,0,1,1],[0,0,0,0]],[[0,0,0,0],[1,0,0,1],[0,0,0,0],[1,0,0,1],[0,1,1,1],[0,0,0,0],[1,0,0,1]],[[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,0,1,1],[0,0,1,1],[0,0,0,0]],[[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,0,0,0],[1,0,1,1],[0,1,0,1]],[[0,0,1,1],[0,0,0,0],[1,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[1,0,0,1]],[[0,0,0,0],[0,0,1,1],[0,0,1,1],[0,0,0,0],[0,1,0,1],[1,0,0,1],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,1,1],[0,1,0,1],[1,0,0,1],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0]]],PlayerCards:[],PlayerHP:0,PlayerVIT:0,PlayerMAXVIT:0,PlayerGold:0,PlayerItem:[],PlayerLevel:0,PlayerRoom:0,PlayerCanMove:0,PlayerHands:[],PlayerHandIndex:[],ItemList:[0,1,2,3,4,5],BossList:[0,1,2,3,4,5],MonsterList:[0,1,2,3,4,5],shuffleCard:function(){for(var e=[].concat(this.PlayerCards),t=e.length-1;t>=0;t--){var c=Math.floor(Math.random()*(t+1)),o=e[c];e[c]=e[t],e[t]=o}this.PlayerHands=e},initPlayerData:function(){this.PlayerFloor=0,this.PlayerCards=[{id:0,cardName:"\u653b\u51fb",cardClass:1,type:0,level:0},{id:0,cardName:"\u653b\u51fb",cardClass:1,type:0,level:0},{id:0,cardName:"\u653b\u51fb",cardClass:1,type:0,level:0},{id:0,cardName:"\u653b\u51fb",cardClass:1,type:0,level:0},{id:0,cardName:"\u653b\u51fb",cardClass:1,type:0,level:0},{id:1,cardName:"\u9632\u5fa1",cardClass:1,type:1,level:0},{id:1,cardName:"\u9632\u5fa1",cardClass:1,type:1,level:0},{id:1,cardName:"\u9632\u5fa1",cardClass:1,type:1,level:0},{id:1,cardName:"\u9632\u5fa1",cardClass:1,type:1,level:0},{id:1,cardName:"\u9632\u5fa1",cardClass:1,type:1,level:0},{id:2,cardName:"\u6cbb\u7597",cardClass:1,type:2,level:0},{id:2,cardName:"\u6cbb\u7597",cardClass:1,type:2,level:0},{id:2,cardName:"\u6cbb\u7597",cardClass:1,type:2,level:0}],this.shuffleCard(),this.PlayerHandIndex=0,this.PlayerHP=100,this.PlayerVIT=5,this.PlayerMAXVIT=5,this.PlayerGold=0,this.PlayerItem=[],this.PlayerLevel=-1,this.PlayerRoom=0,this.PlayerCanMove=1,this.MapData=[[[0,0,1,1],[0,0,0,0],[1,1,0,1],[0,0,0,0],[0,0,0,0],[1,0,1,1],[0,1,0,1]],[[0,0,0,0],[0,1,0,1],[0,0,1,1],[0,0,0,0],[1,0,0,1],[0,0,0,0],[1,0,0,1]],[[0,0,0,0],[1,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0]],[[0,1,0,1],[0,0,1,1],[0,0,0,0],[1,0,1,1],[0,0,0,0],[1,0,1,1],[0,0,0,0]],[[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,1,0,1]],[[0,0,1,1],[0,0,0,0],[0,0,1,1],[0,0,0,0],[1,0,0,1],[0,0,0,0],[0,1,0,1]],[[0,0,0,0],[1,0,0,1],[0,0,0,0],[1,0,1,1],[0,0,0,0],[0,0,0,0],[0,1,0,1]],[[0,0,1,1],[0,0,0,0],[1,0,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[1,0,0,1]],[[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,0,0,0],[1,1,0,1],[0,0,1,1],[0,0,0,0]],[[0,0,0,0],[1,0,0,1],[0,0,0,0],[1,0,0,1],[0,1,1,1],[0,0,0,0],[1,0,0,1]],[[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,0,1,1],[0,0,1,1],[0,0,0,0]],[[0,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[0,0,0,0],[1,0,1,1],[0,1,0,1]],[[0,0,1,1],[0,0,0,0],[1,1,0,1],[0,0,0,0],[0,1,0,1],[0,0,0,0],[1,0,0,1]],[[0,0,0,0],[0,0,1,1],[0,0,1,1],[0,0,0,0],[0,1,0,1],[1,0,0,1],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,1,1],[0,1,0,1],[1,0,0,1],[0,0,0,0],[0,0,0,0]],[[0,0,0,0],[0,0,0,0],[0,0,0,0],[0,0,0,2],[0,0,0,0],[0,0,0,0],[0,0,0,0]]]}},cc._RF.pop()},{}],HeroButton:[function(e,t,c){"use strict";cc._RF.push(t,"b63d5h5ZMhPQZvmPHC2XDoD","HeroButton"),cc.Class({extends:cc.Component,properties:{id:0,label:cc.Label,button:cc.Button},start:function(){},init:function(e){this.id=e.id,this.label.string=e.name,this.button.interactable=e.active}}),cc._RF.pop()},{}],Main:[function(e,t,c){"use strict";cc._RF.push(t,"11048qkF9tBGbHMLRae4I0M","Main"),cc.Class({extends:cc.Component,properties:{MainLayout:cc.Node,SelectModePrefab:cc.Prefab},start:function(){cc.view.setResolutionPolicy(cc.ResolutionPolicy.FIXED_WIDTH),cc.view.setDesignResolutionSize(960,640,cc.ResolutionPolicy.FIXED_WIDTH)},onBtnClick:function(e,t){"play"==t?(this.hide(),null==this.mSelectMode&&(this.mSelectMode=cc.instantiate(this.SelectModePrefab),cc.find("Canvas").addChild(this.mSelectMode),this.mSelectMode=this.mSelectMode.getComponent("SelectMode")),this.mSelectMode.show()):"exit"==t&&cc.game.end()},show:function(){this.MainLayout.active=!0},hide:function(){this.MainLayout.active=!1}}),cc._RF.pop()},{}],SelectHero:[function(e,t,c){"use strict";cc._RF.push(t,"dbba9JY/vJO57ZDLM+e/IyX","SelectHero");var o=e("Global");cc.Class({extends:cc.Component,properties:{StartButton:cc.Node,BackGround:cc.Node,HeroInfo:cc.Node,SelectLayout:cc.Node,HeroButton:cc.Prefab},start:function(){this.initSelectHeroButton()},initSelectHeroButton:function(){for(var e=this,t=this,c=this.SelectLayout,i=function(i){e.mHeroButton=cc.instantiate(e.HeroButton),c.addChild(e.mHeroButton),e.mHeroButton.getComponent("HeroButton").init({id:o.Heros[i].id,name:o.Heros[i].heroName,active:o.Heros[i].heroActive}),e.mHeroButton.on(cc.Node.EventType.TOUCH_END,function(e){t.onBtnClick(e,o.Heros[i].id)})},s=0;s<o.Heros.length;s++)i(s)},show:function(){this.node.active=!0},hide:function(){this.node.active=!1},onBtnClick:function(e,t){"back"==t?(this.hide(),cc.find("Canvas/SelectModeNode").getComponent("SelectMode").show()):"start"==t?(0==o.ChooseMode&&o.initPlayerData(),cc.director.loadScene("Game")):"0"==t&&(this.HeroInfo.getChildByName("HeroName").getComponent(cc.Label).string=o.Heros[0].heroName,this.BackGround.color=new cc.Color(0,0,0,255),this.BackGround.opacity=255,o.ChooseHero=0,this.StartButton.active=!0)}}),cc._RF.pop()},{Global:"Global"}],SelectMode:[function(e,t,c){"use strict";cc._RF.push(t,"e0678rtMHdH+JrKRXW9opmP","SelectMode");var o=e("Global");cc.Class({extends:cc.Component,properties:{SelectHeroPrefab:cc.Prefab},start:function(){},show:function(){this.node.active=!0},hide:function(){this.node.active=!1},onBtnClick:function(e,t){"back"==t?(this.hide(),cc.find("Canvas/Main Camera").getComponent("Main").show()):"normal"==t&&(this.hide(),null==this.mSelectHero&&(this.mSelectHero=cc.instantiate(this.SelectHeroPrefab),cc.find("Canvas").addChild(this.mSelectHero),this.mSelectHero=this.mSelectHero.getComponent("SelectHero")),this.mSelectHero.show(),o.ChooseMode=0)}}),cc._RF.pop()},{Global:"Global"}]},{},["Global","Game","Main","Block","HeroButton","SelectHero","SelectMode"]);