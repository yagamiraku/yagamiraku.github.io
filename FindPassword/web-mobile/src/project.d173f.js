window.__require=function t(i,n,e){function o(c,a){if(!n[c]){if(!i[c]){var l=c.split("/");if(l=l[l.length-1],!i[l]){var r="function"==typeof __require&&__require;if(!a&&r)return r(l,!0);if(s)return s(l,!0);throw new Error("Cannot find module '"+c+"'")}c=l}var h=n[c]={exports:{}};i[c][0].call(h.exports,function(t){return o(i[c][1][t]||t)},h,h.exports,t,i,n,e)}return n[c].exports}for(var s="function"==typeof __require&&__require,c=0;c<e.length;c++)o(e[c]);return o}({Global:[function(t,i,n){"use strict";cc._RF.push(i,"54e8cysU6lLB6EibAFgAk5M","Global"),i.exports={itemInfo:[null,null,null],bag:[],FailTime:0,Lock:!1,Items:[{id:0,name:"\u94a5\u5319",texture:"\u5c0f\u94a5\u5319",class:1,content:"\u4e00\u628a\u5c0f\u94a5\u5319"},{id:1,name:"\u5bc6\u7801\u7eb8\u6761",texture:"\u7eb8\u6761\u788e\u7247",class:2,content:"\u4e0a\u9762\u5199\u7740\u5bc6\u7801: 357696"}],init:function(){this.bag=[],this.itemInfo=[null,null,null],this.FailTime=0,this.Lock=!1},LockControl:function(t){this.Lock=t,cc.find("Canvas/ScrollView").getComponent(cc.ScrollView).horizontal=!t}},cc._RF.pop()},{}],Room:[function(t,i,n){"use strict";cc._RF.push(i,"ade453Urt1K1JWTYCa2wu7y","Room");var e=t("Global");cc.Class({extends:cc.Component,properties:{RoomID:0,item:cc.Prefab,password:""},onLoad:function(){var t=this;cc.director.getCollisionManager().enabled=!0,e.init(),this.ColliderTag=0,this.ItemLayout=null,this.UIScript=null,this.RoomInit(),cc.find("Canvas/ScrollView/view").width=640,cc.find("Canvas/ScrollView/view/content").x=cc.find("Canvas/ScrollView/view/content").width/4,cc.find("Canvas/ScrollView/view/content").y=480,cc.loader.loadRes("UI",function(i,n){if(i)cc.error(i.message||i);else{var e=cc.instantiate(n);e.x-=320,e.y-=480,cc.find("Canvas").addChild(e),t.UIScript=cc.find("Canvas/UI").getComponent("ui"),t.ItemLayout=cc.find("Canvas/UI/Node/ItemLayout")}}),cc.loader.loadRes("iphone",function(i,n){if(i)cc.error(i.message||i);else{var e=cc.instantiate(n);e.getComponent("phone").init(t.password),cc.find("Canvas").addChild(e)}}),this.node.on(cc.Node.EventType.TOUCH_END,this.TouchEndEvent,this.node)},Tips:function(t){this.UIScript.Tips(t)},Fail:function(t){e.FailTime+=1,e.FailTime>10?(this.GameOver=cc.find("Canvas/UI/GameOver"),this.GameOver.active=!0,e.LockControl(!0)):this.UIScript.Tips(t)},addItem:function(t){var i=cc.instantiate(this.item);i.getComponent("item").init(t,e.bag.length),e.bag.length<7?e.bag.push(t):this.UIScript.Tips("\u62ff\u4e0d\u4e0b\u8fd9\u4e48\u591a\u4e1c\u897f\u4e86"),i.x=80*e.bag.length-320,this.ItemLayout.addChild(i)},start:function(){},clickEvent:function(t,i){e.Lock||1==this.RoomID&&("\u6c99\u53d1"==i?this.tmpGet1?(this.tmpGet1=!1,this.addItem(0)):this.Fail("\u6ca1\u6709\u5176\u4ed6\u4e1c\u897f\u4e86"):"\u67dc\u5b501"==i?0==this.tmpLock1?this.tmpGet2?(this.tmpGet2=!1,this.addItem(1)):this.Fail("\u6ca1\u6709\u5176\u4ed6\u4e1c\u897f\u4e86"):this.Fail("\u9501\u4f4f\u4e86"):this.Fail("\u4ec0\u4e48\u90fd\u6ca1\u6709"))},RoomInit:function(){1==this.RoomID&&(this.tmpGet1=!0,this.tmpGet2=!0,this.tmpLock1=!0)},TouchEndEvent:function(t){if(!e.Lock){var i=this.getComponent("Room");1==i.RoomID&&null!=e.itemInfo[0]&&null!=e.itemInfo[1]&&0==e.itemInfo[0]&&1001==e.itemInfo[1]&&(i.tmpLock1=!1,t.target.destroy(),e.bag.splice(e.itemInfo[2],1),i.Tips("\u9501\u88ab\u6253\u5f00\u4e86")),e.itemInfo=[null,null,null]}}}),cc._RF.pop()},{Global:"Global"}],item:[function(t,i,n){"use strict";cc._RF.push(i,"0ad62Fts4ZHGo83thr9G36z","item");var e=t("Global");cc.Class({extends:cc.Component,properties:{ItemID:0,BID:0,contentLabel:cc.Node,contentBackground:cc.Node},onLoad:function(){this.BaseX=0,this.BaseY=0;var t=this;this.node.on(cc.Node.EventType.TOUCH_START,function(i){e.Lock||(t.contentLabel.active=!0,t.contentBackground.active=!0,t.BaseX=this.x,t.BaseY=this.y)},this.node),this.node.on(cc.Node.EventType.TOUCH_MOVE,function(t){if(!e.Lock){this.opacity=255;var i=t.touch.getDelta();this.x+=i.x,this.y+=i.y}},this.node),this.node.on(cc.Node.EventType.TOUCH_END,function(i){e.Lock||(t.contentLabel.active=!1,t.contentBackground.active=!1,this.x=t.BaseX,this.y=t.BaseY)},this.node)},init:function(t,i){var n=this;this.ItemID=t,this.BID=i,this.getComponent(cc.BoxCollider).tag=t,cc.loader.loadRes(e.Items[t].texture,cc.SpriteFrame,function(t,i){n.getComponent(cc.Sprite).spriteFrame=i}),this.contentLabel.getComponent(cc.Label).string=e.Items[t].content},start:function(){},onCollisionEnter:function(t,i){e.itemInfo[0]=i.tag,e.itemInfo[1]=t.tag,e.itemInfo[2]=this.BID},onCollisionExit:function(t,i){e.itemInfo[0]=null,e.itemInfo[1]=null,e.itemInfo[2]=null},update:function(t){this.contentBackground.width=this.contentLabel.width+40}}),cc._RF.pop()},{Global:"Global"}],phone:[function(t,i,n){"use strict";cc._RF.push(i,"f0059XuaCdP7qC+sCcBOLCU","phone");var e=t("Global");cc.Class({extends:cc.Component,properties:{iphoneUI:cc.Node,passwordUI:cc.Node,passwordEmpty:cc.Prefab,passwordFull:cc.Prefab,password:"",realPassword:"",background:cc.Node},onLoad:function(){var t=this;this.GamePass=cc.find("Canvas/UI/GamePass"),this.GameOver=cc.find("Canvas/UI/GameOver"),this.background.on(cc.Node.EventType.TOUCH_END,function(i){t.hidePhone()},this.node)},hidePhone:function(){this.iphoneUI.active=!1,e.LockControl(!1)},start:function(){},init:function(t){this.realPassword=t,this.reSetPassword()},update:function(t){},numberButtonClicked:function(t,i){if(-1==i)this.hidePhone();else if(i>=0&&i<=9){this.password=this.password+i,this.passwordUI.destroyAllChildren();for(var n=0;n<this.realPassword.length;n++)this.password.length>n?this.passwordUI.addChild(cc.instantiate(this.passwordFull)):this.passwordUI.addChild(cc.instantiate(this.passwordEmpty));this.password.length==this.realPassword.length&&(this.password==this.realPassword?(this.GamePass.active=!0,this.iphoneUI.active=!1,e.LockControl(!0)):(this.reSetPassword(),e.FailTime+=1,e.FailTime>3&&(this.GameOver.active=!0,this.iphoneUI.active=!1,e.LockControl(!0))))}},reSetPassword:function(){this.password="",this.passwordUI.destroyAllChildren();for(var t=0;t<this.realPassword.length;t++)this.passwordUI.addChild(cc.instantiate(this.passwordEmpty))}}),cc._RF.pop()},{Global:"Global"}],ui:[function(t,i,n){"use strict";cc._RF.push(i,"32620L60oBEDZ9Rsu6nlDHS","ui");var e=t("Global");cc.Class({extends:cc.Component,properties:{},iphoneActive:function(){e.Lock||(e.LockControl(!0),cc.find("Canvas/iphone").active=!0)},Tips:function(t){void 0!==t&&(this.unscheduleAllCallbacks(),cc.find("Canvas/UI/Tips/Label").getComponent(cc.Label).string=t,cc.find("Canvas/UI/Tips").active=!0,this.scheduleOnce(function(){cc.find("Canvas/UI/Tips").active=!1},2))},start:function(){}}),cc._RF.pop()},{Global:"Global"}]},{},["Global","Room","item","phone","ui"]);